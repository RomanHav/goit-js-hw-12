{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport let pagination = {\n  page: 1,\n  per_page: 15,\n};\n\nexport async function fetchInfo(searchWord) {\n  try {\n    const params = {\n      q: searchWord,\n      key: '43138861-aa01fee7d014e33c8f4078e7d',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    };\n\n    const response = await axios.get(\n      `https://pixabay.com/api/?key=${params.key}&q=${params.q}&image_type=${params.image_type}&orientation=${params.orientation}&safesearch=${params.safesearch}&page=${pagination.page}&per_page=${pagination.per_page}`\n    );\n    // page += 1;\n    if (response.status !== 200) {\n      throw new Error(response.status);\n    }\n    return response.data;\n  } catch (error) {\n    console.error('Fetch error:', error);\n    throw error;\n  }\n}\n","import { fetchInfo, pagination } from './pixabay-api';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst input = document.querySelector('.search');\nlet inputValue = '';\n\nexport function request() {\n  inputValue = input.value.trim();\n  return inputValue;\n}\n\nexport function clearInput() {\n  input.value = ''; // Очищаємо інпут\n}\n\nexport async function markup() {\n  const gallery = document.querySelector('.gallery');\n  const loader = document.querySelector('.loader');\n  const searchWord = request();\n  loader.style.display = 'block';\n\n  try {\n    const data = await fetchInfo(searchWord);\n    if (data.hits.length === 0) {\n      loader.style.display = 'none';\n      iziToast.error({\n        theme: 'dark',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        progressBarColor: '#B51B1B',\n      });\n    } else {\n      const images = data.hits\n        .map(element => {\n          return `<li class=\"gallery-item\">\n        <a class=\"image-link\" href=\"${element.largeImageURL}\">\n          <img class=\"image\" src=\"${element.webformatURL}\" alt=\"${element.tags}\" />\n        </a>\n        <ul class=\"about-image\">\n          <li class=\"likes\">\n            <span class=\"likes-title\">Likes</span>\n            <span class=\"likes-count\">${element.likes}</span>\n          </li>\n          <li class=\"views\">\n            <span class=\"views-title\">Views</span>\n            <span class=\"views-count\">${element.views}</span>\n          </li>\n          <li class=\"comments\">\n            <span class=\"comments-title\">Comments</span>\n            <span class=\"comments-count\">${element.comments}</span>\n          </li>\n          <li class=\"downloads\">\n            <span class=\"downloads-title\">Downloads</span>\n            <span class=\"downloads-count\">${element.downloads}</span>\n          </li>\n        </ul>\n      </li>`;\n        })\n        .join('');\n      loader.style.display = 'none';\n      gallery.insertAdjacentHTML('beforeend', images);\n      let largeGallery = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionsDelay: 250,\n      });\n      largeGallery.refresh();\n    }\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n}\n\nexport async function renderMore() {\n  pagination.page += 1;\n  markup();\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { request, markup, renderMore, clearInput } from './js/render-functions';\n// import { button, } from './js/render-functions';\n\nconst input = document.querySelector('.search');\nconst button = document.querySelector('.button');\nconst gallery = document.querySelector('.gallery');\nconst loadBtn = document.querySelector('.load-button');\n\nloadBtn.style.display = 'none';\n\nfunction renderImages(evt) {\n  evt.preventDefault();\n  const searchWord = request();\n  if (searchWord.length === 0) {\n    iziToast.error({\n      theme: 'dark',\n      message: 'The field must be fullfield',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n      progressBarColor: '#B51B1B',\n    });\n  } else {\n    gallery.innerHTML = '';\n\n    markup();\n    clearInput();\n    loadBtn.style.display = 'block';\n    // input.value = '';\n  }\n}\n\ninput.addEventListener('input', request);\nbutton.addEventListener('click', renderImages);\nloadBtn.addEventListener('click', renderMore);\n"],"names":["pagination","fetchInfo","searchWord","params","response","axios","error","input","inputValue","request","clearInput","markup","gallery","loader","data","iziToast","images","element","SimpleLightbox","renderMore","button","loadBtn","renderImages","evt"],"mappings":"owBAEO,IAAIA,EAAa,CACtB,KAAM,EACN,SAAU,EACZ,EAEO,eAAeC,EAAUC,EAAY,CAC1C,GAAI,CACF,MAAMC,EAAS,CACb,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,EAEUE,EAAW,MAAMC,EAAM,IAC3B,gCAAgCF,EAAO,GAAG,MAAMA,EAAO,CAAC,eAAeA,EAAO,UAAU,gBAAgBA,EAAO,WAAW,eAAeA,EAAO,UAAU,SAASH,EAAW,IAAI,aAAaA,EAAW,QAAQ,EACxN,EAEI,GAAII,EAAS,SAAW,IACtB,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,eAAgBA,CAAK,EAC7BA,CACP,CACH,CClBA,MAAMC,EAAQ,SAAS,cAAc,SAAS,EAC9C,IAAIC,EAAa,GAEV,SAASC,GAAU,CACxB,OAAAD,EAAaD,EAAM,MAAM,OAClBC,CACT,CAEO,SAASE,GAAa,CAC3BH,EAAM,MAAQ,EAChB,CAEO,eAAeI,GAAS,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCX,EAAaO,IACnBI,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMC,EAAO,MAAMb,EAAUC,CAAU,EACvC,GAAIY,EAAK,KAAK,SAAW,EACvBD,EAAO,MAAM,QAAU,OACvBE,EAAS,MAAM,CACb,MAAO,OACP,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,iBAAkB,SAC1B,CAAO,MACI,CACL,MAAMC,EAASF,EAAK,KACjB,IAAIG,GACI;AAAA,sCACqBA,EAAQ,aAAa;AAAA,oCACvBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKtCA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,2CAIVA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,4CAIfA,EAAQ,SAAS;AAAA;AAAA;AAAA,YAIpD,EACA,KAAK,EAAE,EACVJ,EAAO,MAAM,QAAU,OACvBD,EAAQ,mBAAmB,YAAaI,CAAM,EAC3B,IAAIE,EAAe,aAAc,CAClD,aAAc,MACd,cAAe,GACvB,CAAO,EACY,QAAO,CACrB,CACF,OAAQZ,EAAO,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CAC5C,CACH,CAEO,eAAea,GAAa,CACjCnB,EAAW,MAAQ,EACnBW,GACF,CC/EA,MAAMJ,EAAQ,SAAS,cAAc,SAAS,EACxCa,EAAS,SAAS,cAAc,SAAS,EACzCR,EAAU,SAAS,cAAc,UAAU,EAC3CS,EAAU,SAAS,cAAc,cAAc,EAErDA,EAAQ,MAAM,QAAU,OAExB,SAASC,EAAaC,EAAK,CACzBA,EAAI,eAAc,EACCd,IACJ,SAAW,EACxBM,EAAS,MAAM,CACb,MAAO,OACP,QAAS,8BACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,iBAAkB,SACxB,CAAK,GAEDH,EAAQ,UAAY,GAEpBD,IACAD,IACAW,EAAQ,MAAM,QAAU,QAG5B,CAEAd,EAAM,iBAAiB,QAASE,CAAO,EACvCW,EAAO,iBAAiB,QAASE,CAAY,EAC7CD,EAAQ,iBAAiB,QAASF,CAAU"}